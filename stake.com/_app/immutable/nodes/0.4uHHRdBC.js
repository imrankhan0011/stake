import{e as _}from"../chunks/CH8lUi8C.js";import{g as D,w as R}from"../chunks/Bhbbb5KL.js";import{o as I}from"../chunks/LmOkrZ9a.js";import{l as w}from"../chunks/krdq8XJV.js";import{l as M}from"../chunks/6UJE1Jl2.js";import{W as T,k as A,l as U,n as q,p as C,o as O,q as N,r as $,H as G,D as H,u as Q,f as V,d as j,v as B}from"../chunks/CFyBPWZT.js";import{u as K}from"../chunks/Bh4jp7by.js";import{g as z}from"../chunks/CLgR3Pi3.js";import{g as W}from"../chunks/Rp-a9zkb.js";import{p as J}from"../chunks/DV_bOSsD.js";import{U as X}from"../chunks/JwN3wysk.js";import{f as k}from"../chunks/BV84Ne7d.js";import{V as F,a as Y}from"../chunks/DRfdS80Y.js";import{f as Z,c as ee,b as te}from"../chunks/DlWQCp_y.js";import{e as se}from"../chunks/PD1Wq3xD.js";import{C as oe}from"../chunks/Cniolakq.js";import{G as ae,f as ne}from"../chunks/B2iWwL45.js";import{f as re,s as ie,a as ce,r as le,c as ue,p as me,l as pe}from"../chunks/D8DyJFiE.js";import{g as fe}from"../chunks/ITZ0yo5D.js";import{d as de,e as ge}from"../chunks/DpQsjkRx.js";import{j as he}from"../chunks/CXRDFmD6.js";import"../chunks/CWj6FrbW.js";import"../chunks/CN51-NxK.js";import{o as Se}from"../chunks/CQrL6g3R.js";import{l as h,b as ve,f as ye,p as be,a as ke,s as _e,g as m,m as y,c as b,t as xe}from"../chunks/jOU3gvjy.js";import{a as P,f as L}from"../chunks/Dy_KNm7H.js";import{i as Ee}from"../chunks/Bu-FRbP6.js";import{s as Fe}from"../chunks/l1ixUR3f.js";import{s as Ce}from"../chunks/CF9D5C4w.js";import{i as Re}from"../chunks/bB4Zh3Ev.js";import{p as Pe,s as Le,a as De}from"../chunks/BbnqNlY1.js";import{p as Ie}from"../chunks/rq92GsuN.js";import{l as we,i as Me}from"../chunks/u3cJ-KKM.js";function Te({client:t}){return async function(o,r,a){try{const s=I(o,r,a),p=await t.query(s.query,s.variables,s.context).toPromise();return Object.assign(D(s),{...p,context:{...s.context,requestPolicy:"cache-only"}}),s}catch(s){return _.next({type:"errorExchange",error:(s==null?void 0:s.message)||"Mutation error"}),s}}}const Ae=({forward:t})=>c=>C(t(c),G(({error:o})=>{const r=o==null?void 0:o.graphQLErrors,a=o==null?void 0:o.networkError;r?r.forEach(({originalError:s})=>{_.next({type:(s==null?void 0:s.errorType)||"errorExchange",error:s})}):a&&_.next({type:"errorExchange",error:a})})),Ue=t=>({forward:c})=>o=>C(o,H(r=>{const a=t(r.context.fetchOptions);return C(typeof a.then=="function"?Q(a):V(a),j(s=>({...r,context:{...r.context,fetchOptions:s}})))}),c),qe={},Oe=(t,c)=>{const o=()=>z(),r=()=>W(),a=Ue(async i=>{const n=o(),d={...i,headers:{...n?{"x-access-token":n}:{},"x-language":r(),...qe}};return Promise.resolve(d)}),p=[O({forwardSubscription(i){return{subscribe:n=>({unsubscribe:B.subscribe({...i,query:typeof i.query=="string"?i.query:J(i.query)},{error:d=>{n.error(d),_.next({type:"errorExchange",error:d})},...n})})}}})],g=N({resolvers:{Subscription:{sportMarket:(i,n)=>({__typename:"SportMarket",marketId:n.marketId})},Query:{sportMarket:(i,n)=>({__typename:"SportMarket",id:n.marketId})}},keys:{UserFlag:()=>null,Balance:()=>null,UserBalance:()=>null,UserRole:()=>null,GameKuratorGame:()=>null,SportGroup:()=>null,SportGroupTemplate:()=>null,SportFixtureDataOutright:()=>null,SportFixtureDataMatch:()=>null,SportFixtureEventStatusStatisticHomeAway:()=>null,SportFixtureEventStatusPeriodScore:()=>null,FixtureSportEventStatusStatistic:()=>null,SportFixtureEventStatusClock:()=>null,SportFixtureEventStatus:()=>null,SportFixtureCompetitor:()=>null,ChatMessageDataText:()=>null,ChatMessageDataRain:()=>null,ChatMessageDataTip:()=>null,RacePosition:()=>null,ChatMessageDataRace:()=>null,ChatMessageDataBot:()=>null,ChatRainUser:()=>null,ChatRain:()=>null,GameKuratorFilter:()=>null,CommunityUser:()=>null,Info:()=>null,InfoCurrency:()=>null,InfoSetting:()=>null,InfoRole:()=>null},schema:$});return T({url:K,fetch:c,requestPolicy:"network-only",exchanges:[A,U,g,...p,a,Ae,q]})},Ne=t=>k({doc:X,load:t,variables:{}}),$e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"InfoRoles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"info"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"roles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"include"}},{kind:"Field",name:{kind:"Name",value:"exclude"}},{kind:"Field",name:{kind:"Name",value:"modify"}}]}}]}}]}}]},Ge="1756098483653",He={force_unload_version:Ge},Qe=!1,Ve=async t=>{var c,o,r;try{const a=((c=t.data)==null?void 0:c.session)??{},s=Oe(a,t.fetch),p=a.isAuthenticated?Ne(t).then(e=>R(e)):Promise.resolve(R(void 0)),g=Promise.all([re(t,{type:Z.live}),F?ie(t):Promise.resolve(void 0),F?ce(t):Promise.resolve(void 0),F?le(t):Promise.resolve(void 0),ue(t,{type:ee.sidebar,isActivePlayersFeatureFlagOn:!1}),me(t,{isAuthenticated:a.isAuthenticated}),pe(t)]).then(e=>({fixtureCount:e[0],sportSidebar:e[1],topSportSidebar:e[2],racingSidebar:e[3],casinoLinks:e[4],promotion:e[5],sponsorshipMenuItems:e[6]})),[f,i,n,u,d,S,v,x,E]=await Promise.all([p,w(t),M({...t,isAuthenticated:a.isAuthenticated}),k({load:t,doc:$e,variables:{}}),g,k({doc:oe,load:t,variables:{}}).then(e=>(e==null?void 0:e.currentAnnouncements)||[]),k({doc:ae,load:t,variables:{limit:50,offset:0}}).then(e=>(e==null?void 0:e.featureFlagList)||[]),de({...t,isAuthenticated:a.isAuthenticated}),ge({...t,isAuthenticated:a.isAuthenticated}),he.fetch(t)]);return{session:a,featureFlagResponse:v,userTransactionEligibilityResponse:x,kycUserInfoResponse:E,restrictedRegionData:i,leftSidebar:d,authResponse:{...n,includedRoles:fe({infoRoles:((o=u==null?void 0:u.info)==null?void 0:o.roles)||[],userRoles:((r=n==null?void 0:n.user)==null?void 0:r.roles)||[]}).include},userPreferences:f,infoRoles:u,announcementsResponse:S,client:s,query:Te({client:s}),baselineUnloadVersion:He.force_unload_version}}catch(a){console.error("svelte handle error",a),se(404,"Failed to load")}},Ct=Object.freeze(Object.defineProperty({__proto__:null,load:Ve,prerender:Qe},Symbol.toStringTag,{value:"Module"}));var je=L('<img class="hidden"/>'),Be=L("<!> <!>",1);function Rt(t,c){ke(c,!1);const o=()=>De(Ie,"$page",r),[r,a]=Le(),s=y(),p=y(),g=y(),f=y();let i=Pe(c,"data",8);console.info("%c~~ Svelte 5 ~~","color: fuchsia; font-size: 20px;"),we.init(i().session.locale),Me.init({brand:Y,locale:i().session.locale,catalog:i().session.catalog});const n=async()=>{const e=await ne.getFeatureFlagConfig(te.design_system_active_flag,{fetch});return e==null?void 0:e.config},u=(e,l)=>{document.documentElement.classList.toggle(e,l)},d=!0;Se(async()=>{const l=await n();l&&l.enabled&&document.documentElement.classList.add(...l.activeClasses)}),h(()=>o(),()=>{var e,l;b(s,(l=(e=o().data.authResponse)==null?void 0:e.user)==null?void 0:l.id)}),h(()=>o(),()=>{b(p,o().url.searchParams.has("ds-active--radius"))}),h(()=>o(),()=>{b(g,o().url.searchParams.has("ds-active--spacing"))}),h(()=>o(),()=>{b(f,o().url.searchParams.has("ds-active"))}),h(()=>(m(p),m(f)),()=>{u("ds-active--radius",m(p)||m(f)||d)}),h(()=>(m(g),m(f)),()=>{u("ds-active--spacing",m(g)||m(f))}),ve(),Re();var S=Be(),v=ye(S);{var x=e=>{var l=je();xe(()=>Ce(l,"src",`https://web.kick.com/api/v1/static/images/${m(s)??""}/icon.svg`)),P(e,l)};Ee(v,e=>{m(s)&&e(x)})}var E=_e(v,2);Fe(E,c,"default",{},null),P(t,S),be(),a()}export{Rt as component,Ct as universal};
