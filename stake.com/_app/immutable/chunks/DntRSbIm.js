import{j as o,h as r}from"./DlWQCp_y.js";import{i as N}from"./D55SFQxC.js";import{g as T}from"./ITZ0yo5D.js";import{h as k}from"./CLgR3Pi3.js";import{ac as M,ab as V}from"./jOU3gvjy.js";import{w as z,g as C}from"./Bhbbb5KL.js";const P=["frozen","banned","houseExcluded","suspended","abuser","fiatTip","frozenLevel2","promotionAbuser","suspendedLevel1","suspendedLevel2","suspendedLevel3","fiatKycRequired","fiatSuspended","fiatWithdrawOnly","frozen","frozenLevel2","hiddenBetStream","hiddenSportBetStream","kycBanned","noCashout","sportsbookFraudForceFlagged","casinoFraudForceFlagged","bonusAbuser","suspendedSanction","suspendedTipping","rainAbuser","pokerExcluded"],j=t=>{const e={isAuthenticated:!1,isReferred:!1,hasRole:!1,isMaxBetEnabled:!1,isSportsbookExcluded:!1,livestreamNewFeatureEarlyAccess:!1,id:"",name:"",hasPassword:!1,hasEmailVerified:!1,roles:[],includedRoles:[],hasTfaEnabled:!1,hasOauth:!1,hasPhoneNumberVerified:!1,optionalFeatures:[]};return(()=>{const d=z({...e,isAuthenticated:k()});return{...d,setUser:async s=>{var c,m;const{id:b,name:h,hasEmailVerified:E,intercomHash:R,isReferred:g,hasTfaEnabled:S,hasPassword:F,hasOauth:A,isMaxBetEnabled:x,isSportsbookExcluded:w,livestreamNewFeatureEarlyAccess:U,hasPhoneNumberVerified:v,optionalFeatures:O}=s,_={[o.bonusDrop]:r.bonusAbuser,[o.tip]:r.suspendedTipping,[o.promotion]:r.promotionAbuser},l=Object.entries(_).filter(([a,p])=>!s.optionalFeatures.includes(a)).map(([a,p])=>({name:p})),u=[...s.roles,...l].map(a=>a.name),y=u.find(a=>!P.includes(a))!==void 0,B=(s==null?void 0:s.includedRoles)||T({infoRoles:((m=(c=C(N))==null?void 0:c.info)==null?void 0:m.roles)||[],userRoles:[...s.roles,...l]}).include,L={id:b,name:h,roles:u,hasRole:y,isReferred:g,includedRoles:B,intercomHash:R,hasPassword:F,hasEmailVerified:E,isAuthenticated:!0,hasTfaEnabled:S,hasOauth:A,isMaxBetEnabled:!!x,isSportsbookExcluded:w,livestreamNewFeatureEarlyAccess:U,hasPhoneNumberVerified:v,optionalFeatures:O};d.set(L)}}})()},f="__stores__meta",J=()=>{const e={meta:j()};return V(f,e),e},n=t=>{throw new Error(`Cannot ${t} session store before subscribing`)},q=()=>M(f),i={subscribe:t=>{const e=q();return i.set=e.meta.set,i.setUser=e.meta.setUser,i.update=e.meta.update,e.meta.subscribe(t)},set:()=>n("set"),update:()=>n("update"),setUser:()=>n("update")};export{J as c,q as g,i as m};
