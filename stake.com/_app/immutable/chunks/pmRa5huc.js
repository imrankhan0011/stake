import"./CWj6FrbW.js";import"./CN51-NxK.js";import{a as at,l as R,c as y,bi as ot,g as l,d as it,b as ct,u as I,p as ut,m as $}from"./jOU3gvjy.js";import{b as ft,e as k}from"./D-VblrtS.js";import{a as lt,f as mt}from"./Dy_KNm7H.js";import{a as dt}from"./CF9D5C4w.js";import{i as gt}from"./bB4Zh3Ev.js";import{b as z}from"./wrN0iENE.js";import{l as pt}from"./BbnqNlY1.js";const ht={"images.ctfassets.net":"contentful","cdn.builder.io":"builder.io","images.prismic.io":"imgix","www.datocms-assets.com":"imgix","cdn.sanity.io":"imgix","images.unsplash.com":"imgix","cdn.shopify.com":"shopify","s7d1.scene7.com":"scene7","ip.keycdn.com":"keycdn","assets.caisy.io":"bunny","images.contentstack.io":"contentstack","ucarecdn.com":"uploadcare"},bt={"imgix.net":"imgix","files.wordpress.com":"wordpress","b-cdn.net":"bunny","storyblok.com":"storyblok","kc-usercontent.com":"kontent.ai","cloudinary.com":"cloudinary","kxcdn.com":"keycdn","imgeng.in":"imageengine","imagekit.io":"imagekit","cloudimg.io":"cloudimage","ucarecdn.com":"uploadcare","supabase.co":"supabase"},yt={"/cdn-cgi/image/":"cloudflare","/cdn-cgi/imagedelivery/":"cloudflare_images","/_next/image":"nextjs","/_next/static":"nextjs","/_vercel/image":"vercel","/is/image":"scene7","/_ipx/":"ipx","/_image":"astro","/.netlify/images":"netlify","/storage/v1/object/public/":"supabase","/storage/v1/render/image/public/":"supabase"},v=e=>{if(!e)return e;const t=Number(e);return isNaN(t)?e:Math.round(t)},u=(e,t,n,s,r)=>{n?(r&&(n=v(n)),e.searchParams.set(t,n.toString())):s&&e.searchParams.delete(t)},x=(e,t,n)=>{e.searchParams.has(t)||e.searchParams.set(t,n.toString())},U=(e,t)=>{const n=Number(e.searchParams.get(t));return isNaN(n)?void 0:n},D=e=>{const{pathname:t,search:n}=e;return`${t}${n}`},O=e=>e.hostname==="n"?D(e):e.toString(),m=(e,t)=>typeof e=="string"?new URL(e,t??"http://n/"):e,q=new Map(Object.entries(ht)),$t=Object.entries(bt);function xt(e){return B(e)||St(e)}function B(e){if(typeof e=="string"&&!e.startsWith("https://"))return!1;const{hostname:t}=m(e);if(q.has(t))return q.get(t);for(const[n,s]of $t)if(t.endsWith(`.${n}`))return s;return!1}function St(e){const{pathname:t}=m(e);for(const[n,s]of Object.entries(yt))if(t.startsWith(n))return s;return!1}const wt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return t&&t>4e3&&(n&&(n=Math.round(n*4e3/t)),t=4e3),n&&n>4e3&&(t&&(t=Math.round(t*4e3/n)),n=4e3),u(r,"w",t,!0,!0),u(r,"h",n,!0,!0),u(r,"fm",s),x(r,"fit","fill"),r},_t=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s),t&&n&&(x(r,"fit","cover"),x(r,"sharp","true")),r},Pt=({url:e,width:t,height:n,format:s})=>{var a;const r=m(e);if(u(r,"w",t,!0,!0),u(r,"h",n,!0,!0),x(r,"fit","min"),s){r.searchParams.set("fm",s);const o=r.searchParams.get("auto");o==="format"?r.searchParams.delete("auto"):o!=null&&o.includes("format")&&r.searchParams.set("auto",o.split(",").filter(i=>i!=="format").join(","))}else r.searchParams.delete("fm"),(a=r.searchParams.get("auto"))!=null&&a.includes("format")||r.searchParams.append("auto","format");return r},vt=/(.+?)(?:_(?:(pico|icon|thumb|small|compact|medium|large|grande|original|master)|(\d*)x(\d*)))?(?:_crop_([a-z]+))?(\.[a-zA-Z]+)(\.png|\.jpg|\.webp|\.avif)?$/,jt=e=>{const t=m(e),n=t.pathname.match(vt);if(!n)throw new Error("Invalid Shopify URL");const[,s,r,a,o,i,c,f]=n;t.pathname=`${s}${c}`;const g=a||t.searchParams.get("width"),p=o||t.searchParams.get("height");return t.searchParams.delete("width"),t.searchParams.delete("height"),{base:t.toString(),width:Number(g)||void 0,height:Number(p)||void 0,format:f?f.slice(1):void 0,params:{crop:i,size:r},cdn:"shopify"}},Ut=({base:e,width:t,height:n,format:s,params:r})=>{const a=m(e);return u(a,"width",t,!0,!0),u(a,"height",n,!0,!0),u(a,"crop",r==null?void 0:r.crop),u(a,"format",s),a},It=({url:e,width:t,height:n})=>{const s=jt(e);if(!s)return;const r={...s,width:t,height:n};return Ut(r)},Rt=({url:e,width:t,height:n})=>{const s=m(e);return u(s,"w",t,!0,!0),u(s,"h",n,!0,!0),x(s,"crop","1"),s},Et=({url:e,width:t,height:n})=>{const s=m(e);return u(s,"w",t,!0,!0),u(s,"h",n,!0,!0),u(s,"q",U(s,"q"),!0),s},Ot=/https?:\/\/(?<host>[^\/]+)\/(?<cloudName>[^\/]+)\/(?<assetType>image|video|raw)\/(?<deliveryType>upload|fetch|private|authenticated|sprite|facebook|twitter|youtube|vimeo)\/?(?<signature>s\-\-[a-zA-Z0-9]+\-\-)?\/?(?<transformations>(?:[^_\/]+_[^,\/]+,?)*)?\/(?:(?<version>v\d+)\/)?(?<idAndFormat>[^\s]+)$/g,Lt=e=>e?Object.fromEntries(e.split(",").map(t=>t.split("_"))):{},H=({host:e,cloudName:t,assetType:n,deliveryType:s,signature:r,transformations:a={},version:o,id:i,format:c})=>{c&&(a.f=c);const f=Object.entries(a).map(([p,h])=>`${p}_${h}`).join(",");return`https://${[e,t,n,s,r,f,o,i].filter(Boolean).join("/")}`},Z=e=>{const n=[...m(e).toString().matchAll(Ot)];if(!n.length)throw new Error("Invalid Cloudinary URL");const s=n[0].groups||{},{transformations:r="",idAndFormat:a,...o}=s;delete s.idAndFormat;const i=a.lastIndexOf("."),c=i<0?a:a.slice(0,i),f=i<0?void 0:a.slice(i+1),{w:g,h:p,f:h,...S}=Lt(r),b=h&&h!=="auto"?h:f;return{base:H({...o,id:c,transformations:S}),width:Number(g)||void 0,height:Number(p)||void 0,format:b,cdn:"cloudinary",params:{...s,id:s.deliveryType==="fetch"?a:c,format:b,transformations:S}}},Nt=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=Z(e.toString()),o={transformations:{},...a.params,...r,format:s||"auto"};return t&&(o.transformations.w=v(t).toString()),n&&(o.transformations.h=v(n).toString()),(i=o.transformations).c||(i.c="lfill"),H(o)},Wt=({url:e,width:t,height:n,format:s="auto"})=>{var o,i;const r=Z(e);if(!r)throw new Error("Invalid Cloudinary URL");if(((o=r.params)==null?void 0:o.assetType)!=="image")throw new Error("Cloudinary transformer only supports images");if((i=r.params)!=null&&i.signature)throw new Error("Cloudinary transformer does not support signed URLs");const a={...r,width:t,height:n,format:s};return Nt(a)},kt=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/image\/(?<transformations>[^\/]+)?\/(?<path>.*)$/g,zt=e=>Object.fromEntries(e.split(",").map(t=>t.split("="))),V=({host:e,transformations:t={},path:n})=>{const s=Object.entries(t).map(([a,o])=>`${a}=${o}`).join(",");return`https://${[e,"cdn-cgi","image",s,n].join("/")}`},X=e=>{const t=m(e),n=[...t.toString().matchAll(kt)];if(!n.length)throw new Error("Invalid Cloudflare URL");const s=n[0].groups||{},{transformations:r,...a}=s,{width:o,height:i,f:c,...f}=zt(r);return V({...a,transformations:f}),{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:c,cdn:"cloudflare",params:{...s,transformations:f}}},qt=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=X(e.toString()),o={transformations:{},...a.params,...r};return t&&(o.transformations.width=t==null?void 0:t.toString()),n&&(o.transformations.height=n==null?void 0:n.toString()),s&&(o.transformations.f=s==="jpg"?"jpeg":s),(i=o.transformations).fit||(i.fit="cover"),new URL(V(o))},Ft=({url:e,width:t,height:n,format:s="auto"})=>{const r=X(e);if(!r)throw new Error("Invalid Cloudflare URL");const a={...r,width:t,height:n,format:s};return qt(a)},At=({url:e,width:t,height:n})=>{const s=m(e);return u(s,"width",t,!0,!0),t&&n&&x(s,"aspect_ratio",`${t}:${n}`),s},Tt=/(?<id>\/f\/\d+\/\d+x\d+\/\w+\/[^\/]+)\/?(?<modifiers>m\/?(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?)?$/g,Ct=/^(?<modifiers>\/(?<crop>\d+x\d+:\d+x\d+)?\/?(?<resize>(?<flipx>\-)?(?<width>\d+)x(?<flipy>\-)?(?<height>\d+))?\/?(filters\:(?<filters>[^\/]+))?\/?)?(?<id>\/f\/.+)$/g,Mt=e=>e?Object.fromEntries(e.split(":").map(t=>{if(!t)return[];const[n,s]=t.split("(");return[n,s.replace(")","")]})):{},Dt=e=>{if(!e)return;const t=Object.entries(e).map(([n,s])=>`${n}(${s??""})`);if(t.length!==0)return`filters:${t.join(":")}`},Bt=e=>{const t=m(e),n=t.hostname==="img2.storyblok.com"?Ct:Tt,[s]=t.pathname.matchAll(n);if(!s||!s.groups)throw new Error("Invalid Storyblok URL");const{id:r,crop:a,width:o,height:i,filters:c,flipx:f,flipy:g}=s.groups,{format:p,...h}=Mt(c);return t.hostname==="img2.storyblok.com"&&(t.hostname="a.storyblok.com"),{base:t.origin+r,width:Number(o)||void 0,height:Number(i)||void 0,format:p,params:{crop:a,filters:h,flipx:f,flipy:g},cdn:"storyblok"}},Ht=({base:e,width:t=0,height:n=0,format:s,params:r={}})=>{const{crop:a,filters:o,flipx:i="",flipy:c=""}=r,f=`${i}${t}x${c}${n}`;return new URL([e,"m",a,f,Dt(o),s].filter(Boolean).join("/"))},Zt=({url:e,width:t,height:n,format:s})=>{const r=Bt(e);if(r)return s&&(r.params||(r.params={filters:{}}),r.params.filters||(r.params.filters={}),r.params.filters.format=s),Ht({...r,width:t,height:n})},Vt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"w",t,!0,!0),u(r,"h",n,!0,!0),u(r,"fm",s,!0),t&&n&&x(r,"fit","crop"),r},F=e=>{const n=m(e).searchParams.get("url");if(!n||!n.startsWith("http"))return!1;const s=B(n);return s?{cdn:s,url:n}:!1},Xt=({base:e,width:t,params:{quality:n=75,root:s="_vercel"}={}})=>{const r=new URL("http://n");return r.pathname=`/${s}/image`,r.searchParams.set("url",e.toString()),u(r,"w",t,!1,!0),x(r,"q",n),D(r)},G=({url:e,width:t,cdn:n})=>{const s=m(e),r=s.pathname.startsWith("/_next/image")||s.pathname.startsWith("/_vercel/image"),a=r?s.searchParams.get("url"):e.toString();if(a)return u(s,"w",t,!0,!0),r?O(s):Xt({base:a,width:t,params:{root:n==="nextjs"?"_next":"_vercel"}})},Gt=e=>G({...e,cdn:"nextjs"}),Jt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"wid",t,!0,!0),u(r,"hei",n,!0,!0),u(r,"fmt",s,!0),u(r,"qlt",U(r,"qlt"),!0),u(r,"scl",U(r,"scl"),!0),x(r,"fit","crop"),!t&&!n&&x(r,"scl",1),r},Kt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s,!0),u(r,"quality",U(r,"quality"),!0),x(r,"enlarge",0),r},Qt=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s),u(r,"quality",U(r,"quality"),!0),r},E={width:"w",height:"h",autoWidthWithFallback:"w_auto",auto_width_fallback:"w_auto",scaleToScreenWidth:"pc",scale_to_screen_width:"pc",crop:"cr",outputFormat:"f",format:"f",fit:"m",fitMethod:"m",compression:"cmpr",sharpness:"s",rotate:"r",inline:"in",keepMeta:"meta",keep_meta:"meta",noOptimization:"pass",no_optimization:"pass",force_download:"dl",max_device_pixel_ratio:"maxdpr",maxDevicePixelRatio:"maxdpr"};function Yt(e){return Object.keys(E).find(s=>E[s]===e)||""}function te(e){let t=e.toString(),n=[];if(t){let s=t.split("imgeng=");s.length>1&&(n=s[1].split("/"))}return n}function ee(e){let t=e.toString(),n="";if(t){let s=t.split("imgeng=");s.length>1?n=s[0].slice(0,-1):n=t}return n}const re=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=ee(r);let o={};const i=r.toString()===a?[]:te(r);i.length&&(o=oe(i)),t&&(o.width=t),n&&(o.height=n),s&&(o.format=s),o.hasOwnProperty("fit")||(o={...o,fit:"cropbox"});let c=ne(o),f=se(c),g=f===""?"":a.includes("?")?"&":"?";return`${a}${g}${f}`};function ne(e){return Object.entries(e).reduce((t,[n,s])=>t+ae(n,s),"")}function se(e){return e&&e!==""?`imgeng=${e}`:""}function ae(e,t){let n=E[e];return n&&(t||t===0)?`/${n}_${t}`:""}function oe(e){let t={};return e.forEach(n=>{let s=n.split("_");if(s.length>1){let r=s[0],a=s[1],o=Yt(r);o&&(t[o]=a)}}),t}const ie=({url:e,width:t,height:n,format:s})=>{const r=m(e);return u(r,"width",t,!0,!0),u(r,"height",n,!0,!0),u(r,"format",s),r.searchParams.has("format")||x(r,"auto","webp"),t&&n&&x(r,"fit","crop"),r},ce=/https?:\/\/(?<host>[^\/]+)\/cdn-cgi\/imagedelivery\/(?<accountHash>[^\/]+)\/(?<imageId>[^\/]+)\/*(?<transformations>[^\/]+)*$/g,ue=e=>{var t;return Object.fromEntries(((t=e==null?void 0:e.split(","))==null?void 0:t.map(n=>n.split("=")))??[])},fe=({host:e,accountHash:t,transformations:n={},imageId:s})=>{const r=Object.entries(n).map(([o,i])=>`${o}=${i}`).join(",");return`https://${[e,"cdn-cgi","imagedelivery",t,s,r].join("/")}`},J=e=>{const t=m(e),n=[...t.toString().matchAll(ce)];if(!n.length)throw new Error("Invalid Cloudflare Images URL");const s=n[0].groups||{},{transformations:r,...a}=s,{w:o,h:i,f:c,...f}=ue(r);return{base:t.toString(),width:Number(o)||void 0,height:Number(i)||void 0,format:c,cdn:"cloudflare_images",params:{...a,transformations:f}}},le=({base:e,width:t,height:n,format:s,params:r})=>{var i;const a=J(e.toString()),o={transformations:{},...a.params,...r};return t&&(o.transformations.w=t==null?void 0:t.toString()),n&&(o.transformations.h=n==null?void 0:n.toString()),s&&(o.transformations.f=s),(i=o.transformations).fit||(i.fit="cover"),new URL(fe(o))},me=({url:e,width:t,height:n,format:s="auto"})=>{const r=J(e);if(!r)throw new Error("Invalid Cloudflare Images URL");const a={...r,width:t,height:n,format:s};return le(a)},de=e=>{const t=m(e),[n,...s]=t.pathname.split("/").slice(1),r=Object.fromEntries(n.split(",").map(a=>{const[o,i]=a.split("_");return[o,i]}));if(r.s){const[a,o]=r.s.split("x");r.w||(r.w=a),r.h||(r.h=o)}return{base:s.join("/"),width:Number(r.w)||void 0,height:Number(r.h)||void 0,quality:Number(r.q)||void 0,format:r.f||"auto",params:r,cdn:"ipx"}},A=({base:e,width:t,height:n,format:s,params:r})=>{const a=(r==null?void 0:r.modifiers)??{};t&&n?a.s=`${t}x${n}`:t?a.w=`${t}`:n&&(a.h=`${n}`),s&&(a.f=s);const o=r!=null&&r.base.endsWith("/")?r==null?void 0:r.base:`${r==null?void 0:r.base}/`,i=Object.entries(a).map(([g,p])=>`${g}_${p}`).join(","),c=e.toString(),f=c.startsWith("/")?c.slice(1):c;return`${o}${i}/${f}`},ge=e=>{var o,i,c,f;const t=String(e.url),n=m(t),s=n.pathname.startsWith("/_ipx")&&n.hostname!=="n"?`${n.origin}/_ipx`:"/_ipx",r=((i=(o=e.cdnOptions)==null?void 0:o.ipx)==null?void 0:i.base)??s;if(r&&r!=="/"&&t.startsWith(r)){const g=de(t.replace(r,""));return A({...g,...e,params:{...(c=e.cdnOptions)==null?void 0:c.ipx,base:r}})}return A({...e,base:t,params:{...(f=e.cdnOptions)==null?void 0:f.ipx,base:r}})},pe=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=O(new URL(r.pathname,r.origin)),o={searchParams:new URLSearchParams};return u(o,"href",a,!0,!0),u(o,"w",t,!0,!0),u(o,"h",n,!0,!0),u(o,"f",s),`/_image?${o.searchParams.toString()}`},he=new Set(["w","h","q","fm","url","width","height","quality"]),be=e=>{const t=m(e),n=Number(t.searchParams.get("w")??t.searchParams.get("width"))??void 0,s=Number(t.searchParams.get("h")??t.searchParams.get("height"))??void 0,r=Number(t.searchParams.get("q")??t.searchParams.get("quality"))||void 0,a=t.searchParams.get("fm")||void 0,o=t.searchParams.get("url")||"",i={quality:r};return t.searchParams.forEach((c,f)=>{he.has(f)||(i[f]=c)}),t.search="",{base:o,width:n,height:s,format:a,params:i,cdn:"netlify"}},T=({base:e,width:t,height:n,format:s,params:{site:r,quality:a,...o}={}})=>{const i=m("/.netlify/images",r);return Object.entries(o).forEach(([c,f])=>u(i,c,f)),u(i,"q",a,!0,!0),u(i,"w",t,!0,!0),u(i,"h",n,!0,!0),u(i,"fm",s),x(i,"fit","cover"),i.searchParams.set("url",e.toString()),O(i)},ye=e=>{var n,s;const t=m(e.url);if(t.pathname.startsWith("/.netlify/images")){const{params:r,base:a,format:o}=be(t);return T({base:a,format:o,...e,params:{...r,site:t.hostname==="n"?void 0:t.origin}})}return T({...e,base:e.url,params:{site:(s=(n=e.cdnOptions)==null?void 0:n.netlify)==null?void 0:s.site}})},$e=e=>(e.searchParams.get("tr")||"").split(",").reduce((n,s)=>{const[r,a]=s.split("-");return n[r]=a,n},{}),xe=({url:e,width:t,height:n,format:s})=>{const r=m(e),a=$e(r);a.w=t&&Math.round(t),a.h=n&&Math.round(n),a.f||(a.f="auto"),s&&(a.f=s);const o=Object.keys(a).map(i=>{const c=a[i];if(c)return`${i}-${c}`}).filter(i=>i).join(",");return r.searchParams.set("tr",o),r},Se=/^https?:\/\/(?<host>[^\/]+)\/(?<uuid>[^\/]+)/g;function K(e){const t=new URL(e),n=t.pathname+t.search+t.hash,s=n.lastIndexOf("http"),r=n.lastIndexOf("/");let a="";return s>=0?a=n.slice(s):r>=0&&(a=n.slice(r+1)),a}function we(e){return e.startsWith("http")}function _e(e){const t=new URL(e);return{pathname:t.origin+t.pathname||"",search:t.search||"",hash:t.hash||""}}function Pe(e){const t=new URL(e),n=K(e),s=we(n)?_e(n).pathname:n;return t.pathname=t.pathname.replace(s,""),t.search="",t.hash="",t.toString()}const ve=e=>{if(typeof e!="string"||!e)return"";let t=e.trim();return t.startsWith("-/")?t=t.slice(2):t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),t};function je(e){const t=Pe(e),n=new URL(t),s=n.pathname.indexOf("/-/");return s===-1?[]:n.pathname.substring(s).split("/-/").filter(Boolean).map(a=>ve(a))}const Ue=e=>e.length?e.reduce((t,n)=>{const[s,r]=n.split("/");return{...t,[s]:r}},{}):{},Q=({host:e,uuid:t,operations:n={},filename:s})=>{const r=Object.entries(n).map(([o,i])=>`${o}/${i}`).join("/-/");return`https://${[e,t,r?`-/${r}`:"",s].join("/")}`},Y=e=>{const t=m(e),n=[...t.toString().matchAll(Se)];if(!n.length)throw new Error("Invalid Uploadcare URL");const s=n[0].groups||{},{...r}=s,a=K(t.toString()),{format:o,...i}=Ue(je(t.toString())),c=o&&o!=="auto"?o:"auto";return{base:Q({...r,filename:a||void 0,operations:{...i,format:c}}),cdn:"uploadcare",params:{...s,filename:a||void 0,operations:{...i,format:c}}}},Ie=({base:e,width:t,height:n,params:s})=>{const r=e.toString(),a=Y(r.endsWith("/")?r:`${r}/`),o={operations:{},...a.params,...s};return t&&n?o.operations={...o.operations,resize:`${t}x${n}`}:(t&&(o.operations={...o.operations,resize:`${t}x`}),n&&(o.operations={...o.operations,resize:`x${n}`})),Q(o)},Re=({url:e,width:t,height:n})=>{const s=Y(e);if(!s)throw new Error("Invalid Uploadcare URL");const r={...s,width:t,height:n};return Ie(r)},Ee=["origin"],tt="/storage/v1/object/public/",L="/storage/v1/render/image/public/",Oe=e=>e.pathname.startsWith(L),et=e=>{const t=m(e);if(!Oe(t))return{cdn:"supabase",base:t.origin+t.pathname};const s=t.pathname.replace(L,""),r=t.searchParams.has("quality")?Number(t.searchParams.get("quality")):void 0,a=t.searchParams.has("width")?Number(t.searchParams.get("width")):void 0,o=t.searchParams.has("height")?Number(t.searchParams.get("height")):void 0,i=t.searchParams.has("format")?t.searchParams.get("format"):void 0,c=t.searchParams.has("resize")?t.searchParams.get("resize"):void 0;return{cdn:"supabase",base:t.origin+tt+s,width:a,height:o,format:i,params:{quality:r,resize:c}}},Le=({base:e,width:t,height:n,format:s,params:r})=>{const a=et(e.toString());e=a.base,t=t||a.width,n=n||a.height,s=s||a.format,r={...a.params,...r};const o=new URLSearchParams;return t&&o.set("width",v(t).toString()),n&&o.set("height",v(n).toString()),s&&Ee.includes(s)&&o.set("format",s),r!=null&&r.quality&&o.set("quality",v(r.quality).toString()),r!=null&&r.resize&&o.set("resize",r.resize),o.toString()===""?e:a.base.replace(tt,L)+"?"+o.toString()},Ne=({url:e,width:t,height:n,format:s,cdnOptions:r})=>{const a=et(e);return Le({base:a.base,width:t||a.width,height:n||a.height,format:s||a.format,params:(r==null?void 0:r.supabase)||a.params})},C={vercel:F,nextjs:F};function We(e,t){if(!(t in C))return!1;const n=C[t];return n?n(e):!1}function N(e,t){const n=xt(e)||t;if(!n)return!1;const s=We(e,n);return s||{cdn:n,url:e}}const W=e=>({imgix:Pt,contentful:wt,"builder.io":_t,shopify:It,wordpress:Rt,cloudimage:Et,cloudinary:Wt,bunny:At,storyblok:Zt,cloudflare:Ft,vercel:G,nextjs:Gt,scene7:Jt,"kontent.ai":Vt,keycdn:Kt,directus:Qt,imageengine:re,contentstack:ie,cloudflare_images:me,ipx:ge,astro:pe,netlify:ye,imagekit:xe,uploadcare:Re,supabase:Ne})[e];var ke=(e,t)=>{if(!(!e||!t))switch(t){case"constrained":return`(min-width: ${e}px) ${e}px, 100vw`;case"fixed":return`${e}px`;case"fullWidth":return"100vw";default:return}},j=e=>e||e===0?`${e}px`:void 0,ze=({width:e,height:t,aspectRatio:n,layout:s,objectFit:r="cover",background:a})=>{const o=[["object-fit",r]];return a!=null&&a.startsWith("https:")||a!=null&&a.startsWith("http:")||a!=null&&a.startsWith("data:")?(o.push(["background-image",`url(${a})`]),o.push(["background-size","cover"]),o.push(["background-repeat","no-repeat"])):o.push(["background",a]),s==="fixed"&&(o.push(["width",j(e)]),o.push(["height",j(t)])),s==="constrained"&&(o.push(["max-width",j(e)]),o.push(["max-height",j(t)]),o.push(["aspect-ratio",n?`${n}`:void 0]),o.push(["width","100%"])),s==="fullWidth"&&(o.push(["width","100%"]),o.push(["aspect-ratio",n?`${n}`:void 0]),o.push(["height",j(t)])),Object.fromEntries(o.filter(([,i])=>i))},qe=[6016,5120,4480,3840,3200,2560,2048,1920,1668,1280,1080,960,828,750,640],M=24,Fe=({width:e,layout:t,resolutions:n=qe})=>{if(t==="fullWidth")return n;if(!e)return[];const s=e*2;return t==="fixed"?[e,s]:t==="constrained"?[e,s,...n.filter(r=>r<s)]:[]},Ae=({src:e,width:t,layout:n="constrained",height:s,aspectRatio:r,breakpoints:a,cdn:o,transformer:i,format:c})=>{const f=N(e,o);return f&&!i&&(i=W(f.cdn)),i?(a||(a=Fe({width:t,layout:n})),a.sort((g,p)=>g-p).map(g=>{let p;return s&&r&&(p=Math.round(g/r)),{url:f?f.url:e,width:g,height:p,format:c}})):[]},Te=e=>{let{src:t,cdn:n,transformer:s}=e;const r=N(t,n);return r&&!s&&(s=W(r.cdn)),s?Ae({...e,transformer:s}).map(a=>{const o=s(a);return`${o==null?void 0:o.toString()} ${a.width}w`}).join(`,
`):""};function Ce({width:e,height:t,priority:n,layout:s="constrained",aspectRatio:r,...a}){return e=e&&Number(e)||void 0,t=t&&Number(t)||void 0,n?(a.loading||(a.loading="eager"),a.fetchpriority||(a.fetchpriority="high")):(a.loading||(a.loading="lazy"),a.decoding||(a.decoding="async")),a.alt===""&&(a.role||(a.role="presentation")),r?e?t||(t=Math.round(e/r)):t&&(e=Math.round(t*r)):e&&t&&(r=e/t),{width:e,height:t,aspectRatio:r,layout:s,...a}}function Me(e){let{src:t,cdn:n,transformer:s,background:r,layout:a,objectFit:o,breakpoints:i,width:c,height:f,aspectRatio:g,unstyled:p,...h}=Ce(e);const S=t?N(t,n):void 0;let b=t;if(S&&(b=S.url,s||(s=W(S.cdn))),s&&r==="auto"){const _=g?Math.round(M/g):void 0,w=s({url:b,width:M,height:_});w&&(r=w.toString())}const P={width:c,height:f,aspectRatio:g,layout:a,objectFit:o,background:r};if(h.sizes||(h.sizes=ke(c,a)),p||(h.style={...ze(P),...h.style}),s){h.srcset=Te({src:b,width:c,height:f,aspectRatio:g,layout:a,breakpoints:i,transformer:s,cdn:n});const _=s({url:b,width:c,height:f});_&&(b=_),(a==="fullWidth"||a==="constrained")&&(c=void 0,f=void 0)}return{...h,src:b==null?void 0:b.toString(),width:c,height:f}}function De(e,t){const n=RegExp(e,"g");return s=>{if(typeof s!="string")throw new TypeError(`expected an argument of type string, but got ${typeof s}`);return s.match(n)?s.replace(n,t):s}}const Be=De(/[A-Z]/,e=>`-${e.toLowerCase()}`);function He(e,t=Be){if(!e||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected an argument of type object, but got ${typeof e}`);return Object.keys(e).map(n=>`${t(n)}: ${e[n]};`).join(`
`)}var Ze=mt("<img/>");function rr(e,t){const n=pt(t,["children","$$slots","$$events","$$legacy"]);at(t,!1);const s=$(),r=$(),a=$(),o=$(),i=$(),c=$(),f=$(),g=$(),p=$(),h=$(),S=$(),b=$(),P=$(),_=$();R(()=>(l(s),l(r),it(n)),()=>{y(s,n.style),y(r,ot(n,["style"]))}),R(()=>(l(a),l(o),l(i),l(c),l(f),l(g),l(p),l(h),l(S),l(b),l(P),l(r)),()=>{(d=>{y(a,d.alt),y(o,d.style),y(i,d.src),y(c,d.width),y(f,d.height),y(g,d.loading),y(p,d.decoding),y(h,d.srcset),y(S,d.role),y(b,d.sizes),y(P,d.fetchpriority)})(Me(l(r)))}),R(()=>(l(o),l(s)),()=>{y(_,[He(l(o)||{}),l(s)].filter(Boolean).join(";"))}),ct(),gt();var w=Ze();dt(w,(d,rt,nt,st)=>({...n,style:l(_),loading:l(g),width:l(c),height:l(f),decoding:l(p),role:l(S),fetchpriority:l(P),alt:d,src:rt,srcset:nt,sizes:st}),[()=>(l(a),I(()=>{var d;return(d=l(a))==null?void 0:d.toString()})),()=>(l(i),I(()=>{var d;return(d=l(i))==null?void 0:d.toString()})),()=>(l(h),I(()=>{var d;return(d=l(h))==null?void 0:d.toString()})),()=>(l(b),I(()=>{var d;return(d=l(b))==null?void 0:d.toString()}))]),ft(w),k("load",w,function(d){z.call(this,t,d)}),k("error",w,function(d){z.call(this,t,d)}),lt(e,w),ut()}export{rr as I};
