import{g as p,w as i}from"./Bhbbb5KL.js";import{b as m}from"./CXRDFmD6.js";import{c as E}from"./DC8FEm5-.js";const u={wagered:0,profit:0,bets:0,wins:0,losses:0,luck:1,payoutMultiplierSum:0,profitHistory:[0],currency:E,game:"",gamesHistory:{}},M=.01,D=({gamesHistory:t,newBet:r,totalProfit:s})=>{const o={luck:t[r.game].luck+r.payoutMultiplier,wagered:t[r.game].wagered+r.amount,profit:t[r.game].profit+r.profit,bets:t[r.game].bets+1,wins:t[r.game].wins+(r.betStatus==="win"?1:0),losses:t[r.game].losses+(r.betStatus==="lose"?1:0),profitHistory:[...t[r.game].profitHistory,s],currency:r.currency,game:r.game};return{...t,[r.game]:o}},G=({gamesHistory:t,newBet:r,totalProfit:s})=>{const o={luck:r.payoutMultiplier,wagered:r.amount,profit:r.profit,bets:1,wins:r.betStatus==="win"?1:0,losses:r.betStatus==="lose"?1:0,profitHistory:[0,s],currency:r.currency,game:r.game};return{...t,[r.game]:o}},k=({newBet:t,prevData:r})=>{const s=r.currency===(t==null?void 0:t.currency)?r:{...u,currency:p(m)},{wagered:o,profit:y,bets:l,wins:g,losses:n,profitHistory:f,payoutMultiplierSum:d,gamesHistory:c}=s,a=y+t.profit,b=[...f,a],e=d+t.payoutMultiplier,S=e/(l+1)/(1-M),H=t.game in c?D({newBet:t,gamesHistory:c,totalProfit:a}):G({newBet:t,gamesHistory:c,totalProfit:a});return{...s,luck:S,wagered:o+t.amount,profit:a,bets:l+1,wins:g+(t.betStatus==="win"?1:0),losses:n+(t.betStatus==="lose"?1:0),payoutMultiplierSum:e,profitHistory:b,currency:t.currency,game:t.game,gamesHistory:H}},A=i("all"),P=(()=>{const t=i("hide");return{...t,hide:()=>t.set("hide")}})(),I=(()=>{const t=i(u);return{...t,addStat:r=>{t.update(s=>k({newBet:r,prevData:s}))}}})(),R=i(null),_=()=>{I.set({...u,gamesHistory:{},currency:p(m)}),A.set("all")};export{I as b,A as g,_ as r,R as s,P as v};
