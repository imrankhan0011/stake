import{x as b,j as L,F as P}from"./DlWQCp_y.js";import{a as E,p as R}from"./DRfdS80Y.js";import{q as f}from"./BV84Ne7d.js";import{d as u,w as K}from"./Bhbbb5KL.js";const C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserKycInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"stakeKycEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"veriffEnabled"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isDiscontinuedBlocked"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"roles"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"optionalFeatures"}},{kind:"Field",name:{kind:"Name",value:"kycStatus"}},{kind:"Field",name:{kind:"Name",value:"dob"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"hasEmailVerified"}},{kind:"Field",name:{kind:"Name",value:"phoneNumber"}},{kind:"Field",name:{kind:"Name",value:"phoneCountryCode"}},{kind:"Field",name:{kind:"Name",value:"hasPhoneNumberVerified"}},{kind:"Field",name:{kind:"Name",value:"email"}},{kind:"Field",name:{kind:"Name",value:"registeredWithVpn"}},{kind:"Field",name:{kind:"Name",value:"isBanned"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}},{kind:"Field",name:{kind:"Name",value:"isFiatWithdrawOnly"}},{kind:"Field",name:{kind:"Name",value:"isFiatSuspended"}},{kind:"Field",name:{kind:"Name",value:"resubmitVerification"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"level"}}]}},{kind:"Field",name:{kind:"Name",value:"isSuspendedSportsbook"}},{kind:"Field",alias:{kind:"Name",value:"alternateNames"},name:{kind:"Name",value:"cashierAlternateNames"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"firstName"}},{kind:"Field",name:{kind:"Name",value:"lastName"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"nationalId"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nationalId"}},{kind:"Field",name:{kind:"Name",value:"expireDate"}},{kind:"Field",name:{kind:"Name",value:"issueDate"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"StakeKyc"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"stakeKycEnabled"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"Veriff"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"veriffEnabled"}}}]}]},{kind:"FragmentSpread",name:{kind:"Name",value:"StakeFiatCountryConfiguration"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"stakeKycEnabled"}}}]}]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StakeKyc"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isKycBasicRequired"}},{kind:"Field",name:{kind:"Name",value:"isKycExtendedRequired"}},{kind:"Field",name:{kind:"Name",value:"isKycFullRequired"}},{kind:"Field",name:{kind:"Name",value:"isKycUltimateRequired"}},{kind:"Field",name:{kind:"Name",value:"kycBasic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserKycBasic"}}]}},{kind:"Field",name:{kind:"Name",value:"kycExtended"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserKycExtended"}}]}},{kind:"Field",name:{kind:"Name",value:"kycFull"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserKycFull"}}]}},{kind:"Field",name:{kind:"Name",value:"kycUltimate"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserKycUltimate"}}]}},{kind:"Field",name:{kind:"Name",value:"transactionEligibilityState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTransactionEligibilityStateFragment"}}]}},{kind:"Field",name:{kind:"Name",value:"isKycBypassed"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserKycBasic"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserKycBasic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"active"}},{kind:"Field",name:{kind:"Name",value:"address"}},{kind:"Field",name:{kind:"Name",value:"birthday"}},{kind:"Field",name:{kind:"Name",value:"city"}},{kind:"Field",name:{kind:"Name",value:"country"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"firstName"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lastName"}},{kind:"Field",name:{kind:"Name",value:"phoneNumber"}},{kind:"Field",name:{kind:"Name",value:"rejectedReason"}},{kind:"Field",name:{kind:"Name",value:"status"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"zipCode"}},{kind:"Field",name:{kind:"Name",value:"placeOfBirth"}},{kind:"Field",name:{kind:"Name",value:"industry"}},{kind:"Field",name:{kind:"Name",value:"occupation"}},{kind:"Field",name:{kind:"Name",value:"occupationExperience"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserKycExtended"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserKycExtended"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"active"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"rejectedReason"}},{kind:"Field",name:{kind:"Name",value:"status"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserKycFull"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserKycFull"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"active"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"rejectedReason"}},{kind:"Field",name:{kind:"Name",value:"status"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserKycUltimate"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserKycUltimate"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"active"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"rejectedReason"}},{kind:"Field",name:{kind:"Name",value:"status"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserTransactionEligibilityStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserTransactionEligibilityState"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fiat"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FiatTransactionEligibilityStateFragment"}}]}},{kind:"Field",name:{kind:"Name",value:"crypto"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CryptoTransactionEligibilityStateFragment"}}]}},{kind:"Field",name:{kind:"Name",value:"useLegacyLogic"}},{kind:"Field",name:{kind:"Name",value:"requirementVersion"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FiatTransactionEligibilityStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FiatTransactionEligibilityState"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"depositEnabled"}},{kind:"Field",name:{kind:"Name",value:"withdrawalEnabled"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CryptoTransactionEligibilityStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CryptoTransactionEligibilityState"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"depositEnabled"}},{kind:"Field",name:{kind:"Name",value:"withdrawalEnabled"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Veriff"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"veriffStatus"}},{kind:"Field",name:{kind:"Name",value:"veriffUser"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"StakeFiatCountryConfiguration"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fiatCountryConfiguration"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"country"}},{kind:"Field",name:{kind:"Name",value:"flag"}},{kind:"Field",name:{kind:"Name",value:"nationalIdRequired"}},{kind:"Field",name:{kind:"Name",value:"alternateName"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userVisibleInstructions"}},{kind:"Field",name:{kind:"Name",value:"regex"}},{kind:"Field",name:{kind:"Name",value:"firstNamePresentedFirst"}}]}},{kind:"Field",name:{kind:"Name",value:"currencies"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"withdrawal"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visible"}},{kind:"Field",name:{kind:"Name",value:"enabled"}}]}},{kind:"Field",name:{kind:"Name",value:"deposit"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"visible"}},{kind:"Field",name:{kind:"Name",value:"enabled"}}]}}]}}]}}]}}]},w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserTransactionEligibility"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"transactionEligibilityState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserTransactionEligibilityStateFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"UserTransactionEligibilityStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserTransactionEligibilityState"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fiat"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FiatTransactionEligibilityStateFragment"}}]}},{kind:"Field",name:{kind:"Name",value:"crypto"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CryptoTransactionEligibilityStateFragment"}}]}},{kind:"Field",name:{kind:"Name",value:"useLegacyLogic"}},{kind:"Field",name:{kind:"Name",value:"requirementVersion"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"FiatTransactionEligibilityStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FiatTransactionEligibilityState"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"depositEnabled"}},{kind:"Field",name:{kind:"Name",value:"withdrawalEnabled"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CryptoTransactionEligibilityStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CryptoTransactionEligibilityState"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"depositEnabled"}},{kind:"Field",name:{kind:"Name",value:"withdrawalEnabled"}}]}}]},W=e=>{var l;const i=(l=e==null?void 0:e.kycBasic)==null?void 0:l.country;if(i===void 0)return!1;const n=new Set([b.BR]).has(i),t=e==null?void 0:e.isSuspended,d=e==null?void 0:e.isFiatWithdrawOnly;return n&&(t||d)},o=(()=>{const e=K({loading:!1,data:null});return{...e,fetch:async()=>{e.update(a=>({...a,loading:!0}));const i=await f({doc:C,variables:{stakeKycEnabled:E==="stake",veriffEnabled:R},load:{fetch}});return e.set({...i,loading:!1}),i==null?void 0:i.data}}})();async function de(e){if(e.isAuthenticated){const i=await f({doc:C,variables:{stakeKycEnabled:E==="stake",veriffEnabled:R},load:e});return i==null?void 0:i.data}return Promise.resolve(null)}const le=(()=>{const e=K({loading:!1,data:null});return{...e,fetch:async()=>{{e.update(a=>({...a,loading:!0}));const i=await f({doc:w,variables:{},load:{fetch}});return e.set({...i,loading:!1}),i==null?void 0:i.data}}}})();async function se(e){if(e.isAuthenticated&&E==="stake"){const i=await f({doc:w,variables:{},load:e});return i==null?void 0:i.data}return Promise.resolve(null)}u([o],([e])=>{var a;if(!e.data)return null;const i=e.data.user;return((a=i==null?void 0:i.kycBasic)==null?void 0:a.birthday)||(i==null?void 0:i.dob)});const me=u([o],([e])=>{var a,n;return e.data?(n=(a=e==null?void 0:e.data)==null?void 0:a.user)==null?void 0:n.email:null}),ue=u([o],([e])=>{var i,a;return(a=(i=e.data)==null?void 0:i.user)==null?void 0:a.isBanned}),_=u([o],([e])=>{var i,a;return(a=(i=e.data)==null?void 0:i.user)==null?void 0:a.isSuspended}),oe=u([o],([e])=>{var i,a,n;return!((n=(a=(i=e.data)==null?void 0:i.user)==null?void 0:a.optionalFeatures)!=null&&n.includes(L.tip))}),z=u([o],([e])=>{var i,a,n,t,d;return((d=(t=(n=(a=(i=e==null?void 0:e.data)==null?void 0:i.user)==null?void 0:a.fiatCountryConfiguration)==null?void 0:n.currencies)==null?void 0:t[0])==null?void 0:d.name)??null}),G=(e,i,a)=>a&&!i||(e==="withdraw"||e==="buy"||e==="deposit")&&!i,v=u([o],([e])=>{var n,t;const i=(n=e==null?void 0:e.data)==null?void 0:n.user;return((t=i==null?void 0:i.transactionEligibilityState)==null?void 0:t.requirementVersion)??4}),H=new Set([b.IN,b.TR]),N=u([o],([e])=>{var a,n,t;const i=(t=(n=(a=e==null?void 0:e.data)==null?void 0:a.user)==null?void 0:n.kycBasic)==null?void 0:t.country;return i===void 0?!1:H.has(i)}),T=u([o,N,v],([e,i,a])=>{var r,c,k;const n=(r=e==null?void 0:e.data)==null?void 0:r.user,t=n==null?void 0:n.kycBasic,d=n==null?void 0:n.kycExtended,l=(k=(c=n==null?void 0:n.transactionEligibilityState)==null?void 0:c.crypto)==null?void 0:k.depositEnabled,m=!i||a>=4;return l?"enabled":!t||m&&!d?"kycRequired":(t==null?void 0:t.status)==="rejected"||m&&(d==null?void 0:d.status)==="rejected"?"kycRejected":"enabled"}),J=u([o,v,N,_],([e,i,a,n])=>{var k,F,S;if(n)return"enabled";const t=(k=e==null?void 0:e.data)==null?void 0:k.user,d=t==null?void 0:t.kycBasic,l=t==null?void 0:t.kycExtended,m=(S=(F=t==null?void 0:t.transactionEligibilityState)==null?void 0:F.crypto)==null?void 0:S.withdrawalEnabled,r=!a&&i>=2,c=!a&&i==3||i>=4;if(m||i===1)return"enabled";if(!d||r&&!l)return"kycRequired";if(c){if((l==null?void 0:l.status)==="rejected"||(d==null?void 0:d.status)==="rejected")return"kycRejected";if((d==null?void 0:d.status)==="pending")return"basicKycPending";if((l==null?void 0:l.status)==="pending")return"extendedKycPending"}return"enabled"}),M=u([o,v,N],([e,i,a])=>{var F,S,y;const n=(F=e==null?void 0:e.data)==null?void 0:F.user,t=n==null?void 0:n.kycBasic,d=n==null?void 0:n.kycExtended,l=(S=n==null?void 0:n.kycBasic)==null?void 0:S.status,m=(y=n==null?void 0:n.kycExtended)==null?void 0:y.status,r=W(n),c=!r&&(!a||i>=3),k=!r&&(!a||i>=3);return!t||c&&!d?"kycRequired":l==="rejected"||c&&m==="rejected"?"kycRejected":k&&l==="pending"?"basicKycPending":k&&m==="pending"?"extendedKycPending":"enabled"}),Q=u([o,v,N],([e,i,a])=>{var m;const n=(m=e==null?void 0:e.data)==null?void 0:m.user,t=n==null?void 0:n.kycBasic,d=n==null?void 0:n.kycExtended,l=!a||i>=3;return!t||l&&!d?"kycRequired":(t==null?void 0:t.status)==="rejected"||l&&(d==null?void 0:d.status)==="rejected"?"kycRejected":"enabled"}),X=K(void 0),Y=u([o,X],([e,i])=>{var a,n;return!!(i??((n=(a=e==null?void 0:e.data)==null?void 0:a.user)==null?void 0:n.hasEmailVerified))}),Z=["deposit","withdraw","buy","tip","overview"],re=({tab:e,currency:i})=>u([o,v,T,J,M,Q,z,N,Y,i],([a,n,t,d,l,m,r,c,k,F])=>{var S,y;if(Z.includes(e)){const s=(S=a==null?void 0:a.data)==null?void 0:S.user;if(!s)return"error";s.veriffStatus;const h=(y=a==null?void 0:a.data)==null?void 0:y.isDiscontinuedBlocked,q=s==null?void 0:s.isFiatWithdrawOnly,B=s==null?void 0:s.isFiatSuspended,V=s==null?void 0:s.kycBasic,x=s==null?void 0:s.kycExtended,D=n===1,g=F in P,j=g?3:4,A=s==null?void 0:s.isKycBypassed,O=!c||n>=j;if(!D&&(A?!1:!V||O&&!x)&&(!(t==="enabled"||d==="enabled"||m==="enabled"||l==="enabled")||(g?m==="kycRequired"||l==="kycRequired":t==="kycRequired"||d==="kycRequired")))return"setupWallet";if(s.isBanned&&e!=="overview")return"banned";if(s.isSuspendedSportsbook)return"suspendedSportsbook";if(s.isSuspended&&e==="deposit")return"suspended";if(h&&e==="deposit")return"discontinued";if(G(e,k,g))return"emailVerification";if(g){if((e==="deposit"||e==="withdraw")&&B)return"fiatSuspended";if(e==="deposit"){if(q)return"fiatWithdrawOnly";if(s.roles.some(p=>p.name==="fiatKycRequired"))return"fiatKycRequired"}{const p=e==="deposit"?m:e==="withdraw"?l:void 0;if((e==="withdraw"||e==="deposit")&&r!==F)return"fiatCurrencyUnavailable";if(p!=="enabled")return p}}else{const p=e==="deposit"?t:e==="withdraw"?d:void 0;if(p!=="enabled")return p}}return"completed"}),ce=u([o,v,N],([e,i,a])=>{var r;const n=(r=e==null?void 0:e.data)==null?void 0:r.user,t=n==null?void 0:n.kycBasic,d=n==null?void 0:n.kycExtended,l=n==null?void 0:n.isKycBypassed,m=!a||i>=3;return l?!1:(t==null?void 0:t.status)==="rejected"||m&&(d==null?void 0:d.status)==="rejected"}),ke=u([o,T,N,v],([e,i,a,n])=>{var l,m,r;const d=(r=(((m=(l=e.data)==null?void 0:l.user)==null?void 0:m.resubmitVerification)||[])[0])==null?void 0:r.level;if(d)return d;if(i==="kycRequired")return!a||n>=4?2:1}),ve=u([o,v,N],([e,i,a])=>!1),Ne=u([o,v,N],([e,i,a])=>!1);export{z as a,v as b,X as c,se as d,de as e,ue as f,me as g,Y as h,N as i,_ as j,o as k,oe as l,Ne as m,ke as n,re as o,T as p,W as q,Q as r,ve as s,M as t,le as u,ce as v};
