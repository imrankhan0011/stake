import{N as Y,ak as C,K as B,X as D,k as F,b4 as X,b5 as Z,a0 as J,b6 as Q,L as g,b7 as W,g as x,b8 as ss,b9 as es,ba as ts,bb as as,bc as is,x as T,bd as rs,U as fs,be as us,a3 as j,a4 as H,a5 as ls,M as cs}from"./jOU3gvjy.js";import{c as os,d as _s}from"./D-VblrtS.js";import{a as ns,n as ds,b as vs}from"./EURyEsC8.js";import{a as bs,s as ys}from"./uYbI_H7H.js";import{s as hs}from"./DnBXTsoF.js";function gs(s,e){var t=void 0,a;Y(()=>{t!==(t=e())&&(a&&(C(a),a=null),t&&(a=B(()=>{D(()=>t(s))})))})}function O(s,e,t=!1){if(s.multiple){if(e==null)return;if(!F(e))return X();for(var a of s.options)a.selected=e.includes(K(a));return}for(a of s.options){var f=K(a);if(Z(f,e)){a.selected=!0;return}}(!t||e!==void 0)&&(s.selectedIndex=-1)}function As(s){var e=new MutationObserver(()=>{O(s,s.__value)});e.observe(s,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{e.disconnect()})}function K(s){return"__value"in s?s.__value:s.value}const k=Symbol("class"),E=Symbol("style"),G=Symbol("is custom element"),m=Symbol("is html");function Ns(s){if(g){var e=!1,t=()=>{if(!e){if(e=!0,s.hasAttribute("value")){var a=s.value;w(s,"value",null),s.value=a}if(s.hasAttribute("checked")){var f=s.checked;w(s,"checked",null),s.checked=f}}};s.__on_r=t,as(t),is()}}function Is(s,e){var t=P(s);t.value===(t.value=e??void 0)||s.value===e&&(e!==0||s.nodeName!=="PROGRESS")||(s.value=e??"")}function Ss(s,e){e?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function w(s,e,t,a){var f=P(s);g&&(f[e]=s.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&s.nodeName==="LINK")||f[e]!==(f[e]=t)&&(e==="loading"&&(s[W]=t),t==null?s.removeAttribute(e):typeof t!="string"&&U(s).includes(e)?s[e]=t:s.setAttribute(e,t))}function Cs(s,e,t){var a=ls,f=cs;let y=g;g&&T(!1),j(null),H(null);try{e!=="style"&&(M.has(s.getAttribute("is")||s.nodeName)||!customElements||customElements.get(s.getAttribute("is")||s.tagName.toLowerCase())?U(s).includes(e):t&&typeof t=="object")?s[e]=t:w(s,e,t==null?t:String(t))}finally{j(a),H(f),y&&T(!0)}}function ks(s,e,t,a,f=!1,y=!1){if(g&&f&&s.tagName==="INPUT"){var b=s,p=b.type==="checkbox"?"defaultChecked":"defaultValue";p in t||Ns(b)}var n=P(s),d=n[G],L=!n[m];let A=g&&d;A&&T(!1);var u=e||{},v=s.tagName==="OPTION";for(var N in e)N in t||(t[N]=null);t.class?t.class=bs(t.class):(a||t[k])&&(t.class=null),t[E]&&(t.style??(t.style=null));var S=U(s);for(const i in t){let r=t[i];if(v&&i==="value"&&r==null){s.value=s.__value="",u[i]=r;continue}if(i==="class"){var _=s.namespaceURI==="http://www.w3.org/1999/xhtml";ys(s,_,r,a,e==null?void 0:e[k],t[k]),u[i]=r,u[k]=t[k];continue}if(i==="style"){hs(s,r,e==null?void 0:e[E],t[E]),u[i]=r,u[E]=t[E];continue}var $=u[i];if(!(r===$&&!(r===void 0&&s.hasAttribute(i)))){u[i]=r;var R=i[0]+i[1];if(R!=="$$")if(R==="on"){const o={},h="$$"+i;let l=i.slice(2);var I=vs(l);if(ns(l)&&(l=l.slice(0,-7),o.capture=!0),!I&&$){if(r!=null)continue;s.removeEventListener(l,u[h],o),u[h]=null}if(r!=null)if(I)s[`__${l}`]=r,_s([l]);else{let q=function(z){u[i].call(this,z)};u[h]=os(l,s,q,o)}else I&&(s[`__${l}`]=void 0)}else if(i==="style")w(s,i,r);else if(i==="autofocus")rs(s,!!r);else if(!d&&(i==="__value"||i==="value"&&r!=null))s.value=s.__value=r;else if(i==="selected"&&v)Ss(s,r);else{var c=i;L||(c=ds(c));var V=c==="defaultValue"||c==="defaultChecked";if(r==null&&!d&&!V)if(n[i]=null,c==="value"||c==="checked"){let o=s;const h=e===void 0;if(c==="value"){let l=o.defaultValue;o.removeAttribute(c),o.defaultValue=l,o.value=o.__value=h?l:null}else{let l=o.defaultChecked;o.removeAttribute(c),o.defaultChecked=l,o.checked=h?l:!1}}else s.removeAttribute(i);else V||S.includes(c)&&(d||typeof r!="string")?(s[c]=r,c in n&&(n[c]=fs)):typeof r!="function"&&w(s,c,r)}}}return A&&T(!0),u}function Os(s,e,t=[],a=[],f,y=!1,b=!1){Q(t,a,p=>{var n=void 0,d={},L=s.nodeName==="SELECT",A=!1;if(Y(()=>{var v=e(...p.map(x)),N=ks(s,n,v,f,y,b);A&&L&&"value"in v&&O(s,v.value);for(let _ of Object.getOwnPropertySymbols(d))v[_]||C(d[_]);for(let _ of Object.getOwnPropertySymbols(v)){var S=v[_];_.description===ss&&(!n||S!==n[_])&&(d[_]&&C(d[_]),d[_]=B(()=>gs(s,()=>S))),N[_]=S}n=N}),L){var u=s;D(()=>{O(u,n.value,!0),As(u)})}A=!0})}function P(s){return s.__attributes??(s.__attributes={[G]:s.nodeName.includes("-"),[m]:s.namespaceURI===es})}var M=new Map;function U(s){var e=s.getAttribute("is")||s.nodeName,t=M.get(e);if(t)return t;M.set(e,t=[]);for(var a,f=s,y=Element.prototype;y!==f;){a=us(f);for(var b in a)a[b].set&&t.push(b);f=ts(f)}return t}export{k as C,E as S,Os as a,Cs as b,Is as c,Ns as r,w as s};
