import"./CWj6FrbW.js";import"./CN51-NxK.js";import{c as J}from"./CQrL6g3R.js";import{a as K,f as _,g as y,p as L,e as v,u as N}from"./jOU3gvjy.js";import{c as $,a as h}from"./Dy_KNm7H.js";import{s as E}from"./l1ixUR3f.js";import{i as O}from"./bB4Zh3Ev.js";import{l as q,p as t,c as Q,d as A,s as R,a as i}from"./BbnqNlY1.js";import{A as U}from"./Cu9v8iGL.js";import{g as X}from"./BbDErQ5S.js";import{i as Y}from"./Cp5EkjuV.js";import{C as ee}from"./KFFnQNDK.js";function fe(M,e){const T=q(e,["children","$$slots","$$events","$$legacy"]),D=q(T,["name","required","disabled","max","maxEnabled","currency","roundingType","conversionMaxWidth"]);K(e,!1);const l=()=>i(w,"$error",a),m=()=>i(Y,"$i18n",a),P=()=>i(V,"$isSubmitting",a),S=()=>i(Z,"$formDisabled",a),[a,W]=R();let c=t(e,"name",8),k=t(e,"required",8,!1),C=t(e,"disabled",8,!1),d=t(e,"max",8,1/0),F=t(e,"maxEnabled",8,!1),f=t(e,"currency",8),I=t(e,"roundingType",8,"round"),z=t(e,"conversionMaxWidth",24,()=>{});const g=X(),b=J(),{isSubmitting:V,disabled:Z}=g;let j=g.fields[c()];const{error:w,value:o,focus:p}=j,B=r=>r===""?(o.set("0"),"0"):(o.set(r),r),G={...o,set:r=>{B(r)}};O();{let r=v(()=>(l(),m(),N(()=>l()&&m()._(l())))),H=v(()=>P()||C()||S());U(M,Q({get roundingType(){return I()},get amount(){return G},tooltipError:!1,get required(){return k()},get errorMessage(){return y(r)},"data-testid":"send-rain-amount",get maxEnabled(){return F()},get currency(){return f()},get max(){return d()},get disabled(){return y(H)},get name(){return c()},get conversionMaxWidth(){return z()}},()=>D,{$$events:{blur:()=>{A(p,!1),b("blur")},focus:()=>{A(p,!0)},max:()=>{o.set(String(d())),b("max")}},$$slots:{label:(n,x)=>{var s=$(),u=_(s);E(u,e,"label",{},null),h(n,s)},buttons:(n,x)=>{var s=$(),u=_(s);E(u,e,"buttons",{},null),h(n,s)},iconAfter:(n,x)=>{ee(n,{get currency(){return f()}})}}}))}L(),W()}export{fe as A};
