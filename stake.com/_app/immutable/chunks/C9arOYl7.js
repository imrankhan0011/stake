import"./CWj6FrbW.js";import"./CN51-NxK.js";import{a as _t,l as ut,c as pt,b as Bt,f as _,ad as L,u,ae as w,s as ht,g as t,p as St,m as $t,aI as Z,e as p,t as bt}from"./jOU3gvjy.js";import{a as l,f as k,c as S}from"./Dy_KNm7H.js";import{i as F}from"./Bu-FRbP6.js";import{e as A}from"./C0EBwQwy.js";import{s as Lt}from"./DnBXTsoF.js";import{i as wt}from"./bB4Zh3Ev.js";import{a as j,s as yt}from"./BbnqNlY1.js";import{P as zt}from"./BDtpv75J.js";import{d as Mt}from"./BnZzCvUo.js";import{c as Pt}from"./CzpSntgQ.js";import{a as O}from"./B8VV8e7_.js";import{M as x,C as tt,L as At,B as jt,S as et}from"./BIwiQ_eH.js";import{p as kt}from"./rq92GsuN.js";import{s as Rt}from"./DKvFKIov.js";const Ct=20;var It=k("<div><!></div>"),Dt=k("<div><!></div>"),Et=k("<div><!></div>"),Tt=k('<div class="betlist svelte-1rjgh3j"><div class="betlist-scroll svelte-1rjgh3j"><!></div></div> <!>',1);function ee(at,it){_t(it,!1);const st=()=>j(kt,"$page",y),B=()=>j(O,"$activeBets",y),R=()=>j(K,"$offset",y),G=()=>j(rt,"$limit",y),[y,ot]=yt(),o=$t();let H=0;const J=Pt({initial:{limit:Ct},refetch:async i=>{i.offset>H&&(H=i.offset,await O.loadMore({load:{fetch,page:st()},variables:i,combine:(a,e)=>{var d,s,f,r,c,m;return{user:{...e.user,activeSwishBetList:[...((d=a==null?void 0:a.user)==null?void 0:d.activeSwishBetList)??[],...((s=e==null?void 0:e.user)==null?void 0:s.activeSwishBetList)??[]],activeSportBets:[...((f=a==null?void 0:a.user)==null?void 0:f.activeSportBets)??[],...((r=e==null?void 0:e.user)==null?void 0:r.activeSportBets)??[]],activeRacingBets:[...((c=a==null?void 0:a.user)==null?void 0:c.activeRacingBets)??[],...((m=e==null?void 0:e.user)==null?void 0:m.activeRacingBets)??[]]}}}}))}}),{limit:rt,offset:K}=J,N=i=>{O.removeBet(i)};Mt(K,()=>{Rt()});const ct=[{id:"loading_1"},{id:"loading_2"},{id:"loading_3"},{id:"loading_4"},{id:"loading_5"},{id:"loading_6"},{id:"loading_7"},{id:"loading_8"},{id:"loading_9"}];ut(()=>(B(),R(),G()),()=>{var i,a,e,g,d,s,f,r,c;pt(o,[...((e=(a=(i=B())==null?void 0:i.data)==null?void 0:a.user)==null?void 0:e.activeSportBets)||[],...((s=(d=(g=B())==null?void 0:g.data)==null?void 0:d.user)==null?void 0:s.activeSwishBetList)||[],...((c=(r=(f=B())==null?void 0:f.data)==null?void 0:r.user)==null?void 0:c.activeRacingBets)||[]].sort((m,z)=>+new Date(z.createdAt)-+new Date(m.createdAt)).slice(R(),R()+G())||[])}),Bt(),wt();var Q=Tt(),C=_(Q),U=L(C),nt=L(U);{var lt=i=>{x(i,{breakPoints:[650,1e3],get list(){return ct},children:Z,$$slots:{default:(a,e)=>{const g=p(()=>e.sortedList),d=p(()=>e.colSize);var s=S(),f=_(s);A(f,3,()=>t(g),(r,c)=>`col_${c}`,(r,c)=>{tt(r,{get colSize(){return t(d)},children:(m,z)=>{var $=S(),I=_($);A(I,1,()=>t(c),b=>b.id,(b,V)=>{var n=It(),v=L(n);At(v,{}),w(n),l(b,n)}),l(m,$)},$$slots:{default:!0}})}),l(a,s)}}})},dt=i=>{var a=S(),e=_(a);{var g=s=>{jt(s,{mode:"active"})},d=s=>{x(s,{breakPoints:[650,1e3],get list(){return t(o)},children:Z,$$slots:{default:(f,r)=>{const c=p(()=>r.sortedList),m=p(()=>r.colSize),z=p(()=>r.columns);var $=S(),I=_($);{var b=n=>{var v=Dt(),D=L(v);{let M=p(()=>(t(o),u(()=>{var h,P;return(P=(h=t(o)[0])==null?void 0:h.bet)==null?void 0:P.iid})));et(D,{removeBetFromList:N,get bet(){return t(o),u(()=>t(o)[0])},get iid(){return t(M)}})}w(v),bt(()=>Lt(v,`width: ${t(z)===1?"100%":"50%"}`)),l(n,v)},V=n=>{var v=S(),D=_(v);A(D,3,()=>t(c),(M,h)=>`col_${h}`,(M,h)=>{tt(M,{get colSize(){return t(m)},children:(P,qt)=>{var W=S(),vt=_(W);A(vt,1,()=>t(h),E=>E.id,(E,T)=>{var q=Et(),mt=L(q);{let gt=p(()=>(t(T),u(()=>{var X,Y;return(Y=(X=t(T))==null?void 0:X.bet)==null?void 0:Y.iid})));et(mt,{removeBetFromList:N,get bet(){return t(T)},get iid(){return t(gt)}})}w(q),l(E,q)}),l(P,W)},$$slots:{default:!0}})}),l(n,v)};F(I,n=>{t(o),u(()=>t(o).length===1)?n(b):n(V,!1)})}l(f,$)}}})};F(e,s=>{t(o),u(()=>t(o).length===0)?s(g):s(d,!1)},!0)}l(i,a)};F(nt,i=>{B(),u(()=>B().loading)?i(lt):i(dt,!1)})}w(U),w(C);var ft=ht(C,2);zt(ft,{get pagination(){return J},get listLength(){return t(o),u(()=>t(o).length)}}),l(at,Q),St(),ot()}export{Ct as B,ee as S};
