import"./CWj6FrbW.js";import"./CN51-NxK.js";import{c as ge}from"./CQrL6g3R.js";import{a as pe,m as y,g as e,l as h,b as ye,c as n,f as $,s as ve,p as _e,d as v,n as be,t as he,u as D,e as j}from"./jOU3gvjy.js";import{s as xe}from"./BmB745gX.js";import{i as G}from"./Bu-FRbP6.js";import{k as Ce}from"./yciMftSv.js";import{c as A,a as x,f as $e,t as we}from"./Dy_KNm7H.js";import{s as Q}from"./l1ixUR3f.js";import{i as Me}from"./bB4Zh3Ev.js";import{l as R,p as c,c as Ne,a as I,s as Ee,d as Ae}from"./BbnqNlY1.js";import"./BtULLpdb.js";import{I as Ie}from"./BGD-E_x6.js";import{C as Pe}from"./DbEZaqLF.js";import{C as ke}from"./KFFnQNDK.js";import{i as qe}from"./Cp5EkjuV.js";import{i as We}from"./-2c5L_R-.js";import{b as f}from"./DaVVfAvY.js";import{g as U,c as Se,a as X,d as Te}from"./CXRDFmD6.js";import{d as Y}from"./BnZzCvUo.js";import{B as Ve}from"./DabIJIna.js";const Z={max:We._("Max")};var ze=$e("<!> <!>",1);function ot(ee,s){const te=R(s,["children","$$slots","$$events","$$legacy"]),P=R(te,["amount","currency","errorMessage","hint","maxEnabled","disabled","allowCurrencyChange","required","max","tooltipError","roundingType","conversionMaxWidth"]);pe(s,!1);const k=()=>I(Se,"$currencyView",w),H=()=>I(X,"$conversions",w),_=()=>I(b(),"$amount",w),J=()=>I(qe,"$i18n",w),[w,re]=Ee(),q=y(),K=y();let b=c(s,"amount",8),a=c(s,"currency",8),ae=c(s,"errorMessage",8),ne=c(s,"hint",8),oe=c(s,"maxEnabled",8),M=c(s,"disabled",8),se=c(s,"allowCurrencyChange",8,!0),ie=c(s,"required",8,!1),N=c(s,"max",8),ue=c(s,"tooltipError",8,!0),m=c(s,"roundingType",8,"round"),le=c(s,"conversionMaxWidth",24,()=>{}),r=y(U(k(),a()));const W=()=>{var t,u;return e(r)!=="crypto"?(u=(t=H().rates)==null?void 0:t[a()])==null?void 0:u[e(r)]:1};let l=y(W());const S=(t,u)=>t!=="crypto"?f(Number(_())*u,t,m()):f(Number(_()),a(),m());let i=y(S(e(r),e(l)));const T=ge(),ce=t=>{var u,o;n(l,(o=(u=H().rates)==null?void 0:u[a()])==null?void 0:o[t]),n(i,S(t,e(l)))},L=t=>Math.round(Number(f(Number(t)*e(l),a(),m()))*100)/100;let V=y(!1);Y(X,({current:t})=>{var u;if(e(r)!=="crypto"&&t.rates){n(l,(u=t.rates)==null?void 0:u[a()][e(r)]);const o=f(Number(_())*e(l),e(r),m());o!==e(i)&&n(i,o)}});const me=()=>{n(l,W()),n(q,L(N())),Ae(b(),f(0,a(),m())),n(i,f(0,e(r)!=="crypto"?e(r):a(),m()))};Y(b(),({current:t})=>{e(V)||n(i,e(r)!=="crypto"?f(Number(t)*e(l),e(r),m()):t)});let de=()=>{e(r)==="crypto"?b().set(e(i)):e(q)===Number(e(i))?b().set(String(N())):b().set(f(Number(e(i))/e(l),a(),m()))},z=y(a()),fe=()=>se();h(()=>(k(),v(a())),()=>{n(r,U(k(),a()))}),h(()=>e(r),()=>{ce(e(r))}),h(()=>v(N()),()=>{n(q,L(N()))}),h(()=>(v(a()),e(z),e(l),v(M()),e(r)),()=>{a()!==e(z)&&(n(z,a()),n(l,W()),M()?n(i,S(e(r),e(l))):fe()&&me())}),h(()=>e(i),()=>{e(i),de()}),h(()=>(e(r),v(a())),()=>{n(K,Te(e(r),a()))}),ye(),Me(),Ie(ee,Ne(()=>P,{get required(){return ie()},get tooltipError(){return ue()},type:"number",get disabled(){return M()},get errorMessage(){return ae()},get hint(){return ne()},get step(){return e(K)},get value(){return e(i)},set value(t){n(i,t)},$$events:{focus:t=>{n(V,!0),T("focus",t.detail)},blur:t=>{n(V,!1),n(i,f(Number(e(i)),e(r)!=="crypto"?e(r):a(),m())),T("blur",t.detail)}},$$slots:{iconAfter:(t,u)=>{var o=A(),g=$(o);{var C=d=>{{let p=j(()=>e(r)!=="crypto"?e(r):a());ke(d,{get currency(){return e(p)}})}};G(g,d=>{d(C)})}x(t,o)},label:(t,u)=>{var o=A(),g=$(o);Q(g,s,"label",{},null),x(t,o)},"label-right":(t,u)=>{var o=A(),g=$(o);{var C=d=>{var p=A(),B=$(p);Ce(B,()=>`${_()}_${a()}`,O=>{{let E=j(()=>(_(),D(()=>Number(_())))),F=j(()=>(v(P),D(()=>P["data-dd-privacy"]??void 0)));Pe(O,{get amount(){return e(E)},get truncateMaxWidth(){return le()},get currency(){return a()},get roundingType(){return m()},get"data-dd-privacy"(){return e(F)}})}}),x(d,p)};G(g,d=>{d(C)})}x(t,o)},buttons:(t,u)=>{var o=ze(),g=$(o);Q(g,s,"buttons",{},null);var C=ve(g,2);{var d=p=>{Ve(p,{type:"button",variant:"neutral",size:"sm",class:"shadow-none",get disabled(){return M()},$$events:{click:()=>T("max")},children:(B,O)=>{be();var E=we();he(F=>xe(E,F),[()=>(J(),v(Z),D(()=>J()._(Z.max)))]),x(B,E)},$$slots:{default:!0}})};G(C,p=>{oe()&&p(d)})}x(t,o)}},$$legacy:!0})),_e(),re()}export{ot as A};
