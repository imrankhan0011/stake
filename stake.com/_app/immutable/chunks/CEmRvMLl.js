import{ay as Z,N as q,L as l,z as B,az as b,Q as G,R as K,y as O,x as S,ai as y,K as c,Z as P,U as k,A as Q,al as D,m as H,a4 as L,a3 as R,aA as w,S as N,T,aB as Y,h as g}from"./jOU3gvjy.js";const p=0,o=1,x=2;function F(z,C,n,A,_){l&&B();var s=z,I=Z(),U=g,a=k,r,t,f,v=I?D(void 0):H(void 0,!1,!1),d=I?D(void 0):H(void 0,!1,!1),h=!1;function u(e,i){h=!0,i&&(L(E),R(E),w(U));try{e===p&&n&&(r?N(r):r=c(()=>n(s))),e===o&&A&&(t?N(t):t=c(()=>A(s,v))),e===x&&_&&(f?N(f):f=c(()=>_(s,d))),e!==p&&r&&T(r,()=>r=null),e!==o&&t&&T(t,()=>t=null),e!==x&&f&&T(f,()=>f=null)}finally{i&&(w(null),R(null),L(null),Y())}}var E=q(()=>{if(a===(a=C()))return;let e=l&&b(a)===(s.data===G);if(e&&(s=K(),O(s),S(!1),e=!0),b(a)){var i=a;h=!1,i.then(m=>{i===a&&(y(v,m),u(o,!0))},m=>{if(i===a&&(y(d,m),u(x,!0),!_))throw d.v}),l?n&&(r=c(()=>n(s))):P(()=>{h||u(p,!0)})}else y(v,a),u(o,!1);return e&&S(!0),()=>a=k});l&&(s=Q)}export{F as a};
