import{g as _}from"./BzuMrcmN.js";class j extends Error{constructor(c,f){super(c),this.name="DevalueError",this.path=f.join("")}}function v(r){return Object(r)!==r}const A=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function P(r){const c=Object.getPrototypeOf(r);return c===Object.prototype||c===null||Object.getOwnPropertyNames(c).sort().join("\0")===A}function B(r){return Object.prototype.toString.call(r).slice(8,-1)}function C(r){switch(r){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return r<" "?`\\u${r.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function b(r){let c="",f=0;const i=r.length;for(let s=0;s<i;s+=1){const t=r[s],y=C(t);y&&(c+=r.slice(f,s)+y,f=s+1)}return`"${f===0?r:c+r.slice(f)}"`}const k=-1,N=-2,S=-3,E=-4,g=-5,I=-6;function J(r,c){return L(JSON.parse(r))}function L(r,c){if(typeof r=="number")return s(r,!0);if(!Array.isArray(r)||r.length===0)throw new Error("Invalid input");const f=r,i=Array(f.length);function s(t,y=!1){if(t===k)return;if(t===S)return NaN;if(t===E)return 1/0;if(t===g)return-1/0;if(t===I)return-0;if(y)throw new Error("Invalid input");if(t in i)return i[t];const n=f[t];if(!n||typeof n!="object")i[t]=n;else if(Array.isArray(n))if(typeof n[0]=="string"){const a=n[0];switch(a){case"Date":i[t]=new Date(n[1]);break;case"Set":const e=new Set;i[t]=e;for(let l=1;l<n.length;l+=1)e.add(s(n[l]));break;case"Map":const p=new Map;i[t]=p;for(let l=1;l<n.length;l+=2)p.set(s(n[l]),s(n[l+1]));break;case"RegExp":i[t]=new RegExp(n[1],n[2]);break;case"Object":i[t]=Object(n[1]);break;case"BigInt":i[t]=BigInt(n[1]);break;case"null":const o=Object.create(null);i[t]=o;for(let l=1;l<n.length;l+=2)o[n[l]]=s(n[l+1]);break;default:throw new Error(`Unknown type ${a}`)}}else{const a=new Array(n.length);i[t]=a;for(let e=0;e<n.length;e+=1){const p=n[e];p!==N&&(a[e]=s(p))}}else{const a={};i[t]=a;for(const e in n){const p=n[e];a[e]=s(p)}}return i[t]}return s(0)}function M(r,c){const f=[],i=new Map,s=[];for(const e in c)s.push({key:e,fn:c[e]});const t=[];let y=0;function n(e){if(typeof e=="function")throw new j("Cannot stringify a function",t);if(i.has(e))return i.get(e);if(e===void 0)return k;if(Number.isNaN(e))return S;if(e===1/0)return E;if(e===-1/0)return g;if(e===0&&1/e<0)return I;const p=y++;i.set(e,p);for(const{key:l,fn:d}of s){const w=d(e);if(w)return f[p]=`["${l}",${n(w)}]`,p}let o="";if(v(e))o=O(e);else switch(B(e)){case"Number":case"String":case"Boolean":o=`["Object",${O(e)}]`;break;case"BigInt":o=`["BigInt",${e}]`;break;case"Date":o=`["Date","${!isNaN(e.getDate())?e.toISOString():""}"]`;break;case"RegExp":const{source:w,flags:m}=e;o=m?`["RegExp",${b(w)},"${m}"]`:`["RegExp",${b(w)}]`;break;case"Array":o="[";for(let u=0;u<e.length;u+=1)u>0&&(o+=","),u in e?(t.push(`[${u}]`),o+=n(e[u]),t.pop()):o+=N;o+="]";break;case"Set":o='["Set"';for(const u of e)o+=`,${n(u)}`;o+="]";break;case"Map":o='["Map"';for(const[u,$]of e)t.push(`.get(${v(u)?O(u):"..."})`),o+=`,${n(u)},${n($)}`,t.pop();o+="]";break;default:if(!P(e))throw new j("Cannot stringify arbitrary non-POJOs",t);if(Object.getOwnPropertySymbols(e).length>0)throw new j("Cannot stringify POJOs with symbolic keys",t);if(Object.getPrototypeOf(e)===null){o='["null"';for(const u in e)t.push(`.${u}`),o+=`,${b(u)},${n(e[u])}`,t.pop();o+="]"}else{o="{";let u=!1;for(const $ in e)u&&(o+=","),u=!0,t.push(`.${$}`),o+=`${b($)}:${n(e[$])}`,t.pop();o+="}"}}return f[p]=o,p}const a=n(r);return a<0?`${a}`:`[${f.join(",")}]`}function O(r){const c=typeof r;return c==="string"?b(r):r instanceof String?b(r.toString()):r===void 0?k.toString():r===0&&1/r<0?I.toString():c==="bigint"?`["BigInt","${r}"]`:String(r)}function z(r){var f,i,s,t;const c={...r,robots:(r==null?void 0:r.robots)??void 0,canonical:(r==null?void 0:r.canonical)??void 0,sanitizedJsonLd:"",openGraph:{title:(r==null?void 0:r.title)??void 0,description:(r==null?void 0:r.description)??void 0,images:(i=(f=r==null?void 0:r.thumbnail)==null?void 0:f.asset)!=null&&i.url?[{url:`${(t=(s=r==null?void 0:r.thumbnail)==null?void 0:s.asset)==null?void 0:t.url}`,alt:`${(r==null?void 0:r.thumbnailAlt)||(r==null?void 0:r.title)} thumbnail`}]:[]}};if(c!=null&&c.jsonLd){let y;try{y=M(c.jsonLd),c.sanitizedJsonLd=R(J(y))}catch(n){console.error(n)}}return c}const F=()=>typeof window<"u"?!!_("session"):!1;function R(r){return`<script type="application/ld+json">${r}<\/script>`}export{F as c,z as f,R as j};
