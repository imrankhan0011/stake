import{o as s,c as v,a as p,i as m,b}from"./CfTKU0o5.js";function _(u,r){return s(function(c,n){var a=null,t=0,l=!1,e=function(){return l&&!a&&n.complete()};c.subscribe(v(n,function(i){a==null||a.unsubscribe();var o=0,f=t++;p(u(i,f)).subscribe(a=v(n,function(d){return n.next(r?r(i,d,f,o++):d)},function(){a=null,e()}))},function(){l=!0,e()}))})}function h(u,r,c){var n=b(u)||r||c?{next:u,error:r,complete:c}:u;return n?s(function(a,t){var l;(l=n.subscribe)===null||l===void 0||l.call(n);var e=!0;a.subscribe(v(t,function(i){var o;(o=n.next)===null||o===void 0||o.call(n,i),t.next(i)},function(){var i;e=!1,(i=n.complete)===null||i===void 0||i.call(n),t.complete()},function(i){var o;e=!1,(o=n.error)===null||o===void 0||o.call(n,i),t.error(i)},function(){var i,o;e&&((i=n.unsubscribe)===null||i===void 0||i.call(n)),(o=n.finalize)===null||o===void 0||o.call(n)}))}):m}export{_ as s,h as t};
